# 변수의 초기화

변수를 선언하고 처음으로 값을 저장하는 것을 `변수의 초기화`라고 한다. 경우에 따라서 필수적이거나 선택적으로, 가능하면 선언과 동시에 적절한 값으로 초기화 하는 것이 바람직하다.

멤벼변수는 초기화를 하지 않아도 자동적으로 변수의 자료형에 맞는 기본값으로 초기화가 이루어지므로 초기화가 필수적이지 않으나, **지역변수는 사용하기 이전에 반드시 초기화해야 한다**.

```java
class InitTest {
    int x;     // 인스턴스변수
    int y = x; // 인스턴스변수

    void method1(){
        int i;      // 지역변수
        int j = i;  // 에러, 초기화하지 않고 사용
    }
}
```

> 멤버변수(클래스변수와 인스턴스변수)와 배열릐 초기화는 선택적이지만, 지역변수의 초기화는 필수적이다.

각 타입의 기본값(`default value`)는 다음과 같다.
|자료형|기본값|
|:-:|:-:|
|`boolean`|`false`|
|`char`|`'\u0000'`|
|`byte`, `short`, `int`|`0`|
|`long`|`0L`|
|`float`|`0.0f`|
|`double`|`0.0d` 또는 `0.0`|
|참조형 변수|`null`|


### 다양한 초기화 방식

같은 타입의 변수는 콤마(`,`)를 사용하여 함께 선언하거나 초기화 가능하다.

`int i=10, j=10;`

타입이 다른 변수는 함께 선언하거나 초기화할 수 없다.

~~`int i=10, long j=0`~~

### 멤버변수의 초기화

지역변수와 달리 여러 방식이 존재한다.

    멤버변수의 초기화 방법
    1. 명시적 초기화(explicit initialization)
    2. 생성자(constructor)
    3. 초기화 블럭(initialization block)
    - 인스턴스 초기화 블럭
    - 클래스 초기화 블럭

#### 명시적 초기화

변수를 선언과 동시에 초기화하는 것.

```java
class Car {
    int door = 4;            // 기본형 변수의 초기화
    Engine e = new Engine(); // 참조형 변수의 초기화
}
```
간단하고 명료하지만 복잡한 초기화 작업이 요구될 때는 `초기화 블럭` 또는 `생성자`를 사용하는 것이 적절하다.

#### 초기화 블럭

    클래스 초기화 블럭: 클래스 변수의 복잡한 초기화에 이용됨
    인스턴스 초기화 블럭: 인스턴스 변수의 복잡한 초기화에 이용됨

인스턴스 초기화 블럭은 클래스 내에 블럭 `{}`을 만들고 그 안에 코드를 작성하면 된다.

클래스 초기화 블럭은 앞에 `static` 키워드를 붙이면 된다.

```java
class InitBlock {
    static { /* 클래스 초기화 블럭 */ }
    
    { /* 인스턴스 초기화 블럭 */ }
}
```

클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 때, 인스턴스 초기화 블럭은 생성자와 같이 인스턴스를 생성할 때마다 수행된다.

**또, 생성자 블럭보다 인스턴스 초기화 블럭이 먼저 적용됨에 주의하자.**

인스턴스 변수의 초기화는 주로 생성자를 사용하고, **인스턴스 초기화 블럭은 모든 생성자에서 공통으로 수행되어야 하는 코드를 넣는데 사용한다.**

```java
{
    count++;
    serialNo = count;
}
Car() {
    color = "White";
    gearType = "Auto";
}
Car(String color, String gearType) {
    this.color = color;
    this.gearType = gearType;
}
```
위와같이 코드의 중복을 제거하여 코드의 신회성을 높여주고, 오류의 발생가능성을 줄이는 것이 객체지향 프로그래밍이 추구하는 재사용성이 높은 코드이다.

### 멤버변수의 초기화 시기와 순서

    클래스변수의 초기화 시점: 클래스가 처음 로딩될 때 단 한번
    인스턴스변수의 초기화 시점: 인스턴스가 생성될 때마다 각 인스턴스별로 초기화

    클래스변수의 초기화 순서: 기본값 -> 명시적 초기화 -> 클래스 초기화 블럭
    인스턴스변수의 초기화 순서: 기본값 -> 명시적 초기화 -> 인스턴스 초기화 블럭 -> 생성자

