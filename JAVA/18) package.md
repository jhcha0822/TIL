# package

## 패키지(package)

패키지는 **클래스의 묶음**이다. 패키지에는 클래스 또는 인터페이스를 포함시킬 수 있으며, 서로 관련된 클래스들끼리 그룹 단위로 묶어 놓음으로써 클래스를 효율적으로 관리할 수 있다. 같은 이름의 클래스 일지라도 서로 다른 패키지에 존재하는 것이 가능하므로, 자신만의 패키지 체계를 유지함으로써 다른 개발자가 개발한 클래스 라이브러리의 클래스와 이름이 충돌하는 것을 피할 수 있다.

클래스의 실제 이름은 패키지명을 포함한 것이다. 예를 들어 `String`클래스의 실제 이름은 `java.lang.String`이다. 같은 이름의 클래스일 지라도 서로 다른 페키지에 속하면 패키지명으로 구별이 가능한 이유가 이것이다.

**클래스가 물리적으로 하나의 클래스파일(.class)인 것과 같이 패키지는 물리적으로 하나의 디렉토리이다.** 그래서 어떤 패키지에 속한 클래스는 해당 디렉토리에 존재하는 클래스파일(.class)이어야 한다.

아까 언급한 `String`클래스는 `rt.jar`파일에 압축되어 있다. `jar`확장자는 `java archive`의 준말이다. 디렉토리가 하위 디렉토리를 가질 수 있는 것처럼, 패키지도 다른 패키지를 포함할 수 있으며 점 `.`으로 구분한다.

> - 하나의소스파일에는 첫 번째 문장으로 단 한 번의 패키지 선언만을 허용한다.
> - 모든 클래스는 반드시 하나의 패키지에 속해야 한다.
> - 패키지는 점 (`.`)을 구분자로 하여 계층구조로 구성할 수 있다.
> - 패키지는 물리적으로 클래스 파일(`.class`)을 포함하는 하나의 디렉토리이다.

### 패키지의 선언

클래스나 인터페이스의 소스파일(`.java`)의 맨 위에 다음과 같이 한 줄을 적어 선언한다.
```java
package 패키지명;
```

위와 같은 패키지 선언문은 반드시 소스파일에서 주석과 공백을 제외한 첫 번째 문장이어야 하며, 하나의 소스파일에 단 한번만 선언될 수 있다. 해당 소스파일에 포함된 모든 클래스나 인터페이스는 선언된 패키지에 속하게 된다.

패키지명은 대소문자를 모두 허용하지만, 클래스명과 쉽게 구분하기 위해서 **소문자로 하는 것을 원칙으로 한다.**

모든 클래스는 반드시 하나의 패키지에 포함되어야 하나, 소스파일을 작성할 때 패키지를 선언하지 않고도 문제가 없었던 이유는 자바에서 기본적으로 제공하는 **'이름없는 패키지(unnamed package)'** 때문이다. 소스파일에 자신이 속할 패키지를 지정하지 않은 클래스는 자동적으로 '이름 없는 패키지'에 속하게 된다. 결국 패키지를 지정하지 않는 모든 클래스는 같은 패키지에 속하는 셈이다. 간단한 프로그램은 패키지를 지정하지 않아도 별 문제 없지만, 큰 프로젝트나 Java API와 같은 클래스 라이브러리를 작성하는 경우에는 미리 패키지를 구성하여 적용해야 한다.

```
javac -d . PackageTest.java
```
`-d` 옵션은 소스파일에 지정된 경로를 통해 패키지의 위치를 찾아서 클래스파일을 생성한다. 만일 지정된 패키지와 일치하는 디렉토리가 존재하지 않는다면 자동적으로 생성한다.

`-d`옵션 뒤에는 해당 패키지의 루트(`root`) 디렉토리의 경로를 적어준다. `.`를 사용하면 현재 디렉토리로 지정이 되어 아래에 패키지를 탐색하고, 존재하지 않는다면 새로 생성해 내부에 소스파일을 컴파일해 저장한다. 이 루트 디렉토리를 클래스패스(CLASSPATH)에 포함시켜야만 실행 시 JVM이 클래스를 찾을 수 있다.

[윈도우에서 CLASSPATH 추가하기](https://hyoje420.tistory.com/7)

Eclipse 등의 IDE는 이 클래스패스를 자동적으로 잡아주나, 서버 컴퓨터와 같은 환경에서는 GUI를 사용할 수 없기에 알아두는 것이 중요하다.
